<div class="flex">
    <aside class="w-64"></aside>

    <div class="p-6">
        <div class="bg-neutral-700/25 shadow-md rounded-lg mb-6">
            <div class="p-6">
                <h2 class="text-2xl font-semibold mb-6">
                    Enter new data for the department
                </h2>

                <div class="mb-4">
                    <label class="block text-lg font-medium mb-2"
                        >Department name:</label
                    >
                    <input
                        type="text"
                        class="w-full px-4 py-2 bg-neutral-700/50 border border-neutral-600/50 rounded-md"
                        placeholder="Human Resources"
                    />
                </div>

                <div class="mb-4">
                    <label class="block text-lg font-medium mb-2"
                        >Enterprise of origin:</label
                    >
                    <input
                        type="text"
                        class="w-full px-4 py-2 bg-neutral-700/50 border border-neutral-600/50 rounded-md"
                        placeholder="Nuclea Solutions"
                    />
                </div>

                <div class="bg-neutral-800/50 p-6 rounded-lg mb-6">
                    <h3 class="text-xl font-semibold mb-4">
                        Add employees / Department Leader
                    </h3>

                    <div class="mb-4">
                        <label class="block text-lg font-medium mb-2"
                            >Name(s) of the employee:</label
                        >
                        <input
                            type="text"
                            class="w-full px-4 py-2 bg-neutral-700/50 border border-neutral-600/50 rounded-md"
                            placeholder="Joel Antonio"
                        />
                    </div>

                    <div class="mb-4">
                        <label class="block text-lg font-medium mb-2"
                            >Surname(s) of the employee:</label
                        >
                        <input
                            type="text"
                            class="w-full px-4 py-2 bg-neutral-700/50 border border-neutral-600/50 rounded-md"
                            placeholder="Mendez Mendiola"
                        />
                    </div>

                    <div class="mb-4">
                        <label class="block text-lg font-medium mb-2"
                            >Mail of the employee</label
                        >
                        <input
                            type="text"
                            class="w-full px-4 py-2 bg-neutral-700/50 border border-neutral-600/50 rounded-md"
                            placeholder="ROHJ030618HGTDRSA5"
                        />
                    </div>
                </div>

                <div class="flex justify-center space-x-4">
                    <a
                        href=""
                        class="btnPrimary"
                        >Add</a
                    >
                    <button id="btn-delete" class="btnDanger" data-department-id="123">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  // Seleccionar el botón delete
    const deleteBtn = document.getElementById('btn-delete');

    deleteBtn.addEventListener('click', (event) => {
        event.preventDefault(); // prevenir el comportamiento por defecto del botón

        // Obtener el departmentID desde el atributo data
        const departmentID = deleteBtn.getAttribute('data-department-id');

        // Mostrar confirmación con SweetAlert2
        Swal.fire({
        title: '¿Estás seguro?',
        text: "Esta acción eliminará el departamento de forma permanente.",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Sí, eliminar',
        cancelButtonText: 'Cancelar'
        }).then((result) => {
        if (result.isConfirmed) {
            // Enviar la solicitud POST a /department/delete/:departmentID
            fetch(`/department/delete/${departmentID}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
            // Puedes enviar datos adicionales en el body si fuese necesario
            // body: JSON.stringify({ departmentID }) 
            })
            .then(response => {
            if (response.ok) {
                // Muestra un mensaje de éxito o realiza otra acción necesaria
                Swal.fire(
                'Eliminado',
                'El departamento ha sido eliminado.',
                'success'
                );
            } else {
                // Manejo de errores si la respuesta no es exitosa
                Swal.fire(
                'Error',
                'Hubo un problema al eliminar el departamento.',
                'error'
                );
            }
            })
            .catch(error => {
            // Manejo de errores de la red o la solicitud
            Swal.fire(
                'Error',
                'No se pudo conectar con el servidor.',
                'error'
            );
            });
        }
        });
    });
</script>