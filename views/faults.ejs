<%- include('includes/_header') %> <%- include('includes/_navbar') %>

<div class="container mx-auto p-4">
  <!-- Mostrar mensaje si existe -->
  <% if (info) { %>
  <div class="bg-green-100 text-green-800 p-4 rounded-lg mb-4"><%= info %></div>
  <% } %>

  <h1 class="text-3xl font-semibold mb-6">Últimas 10 Faltas</h1>

  <table class="min-w-full table-auto border-collapse border border-gray-200">
    <thead>
      <tr class="bg-gray-100">
        <th class="px-4 py-2 text-left">Nombre</th>
        <th class="px-4 py-2 text-left">Correo</th>
        <th class="px-4 py-2 text-left">Fecha de la Falta</th>
        <th class="px-4 py-2 text-left">Número de Faltas</th>
      </tr>
    </thead>
    <tbody>
      <% fault.forEach(falta => { %>
      <tr class="border-t">
        <td class="px-4 py-2"><%= falta.nombre %></td>
        <td class="px-4 py-2"><%= falta.correo %></td>
        <td class="px-4 py-2">
          <%= new Date(falta.fecha_falta).toLocaleDateString('es-MX') %>
        </td>
        <td class="px-4 py-2"><%= falta.num_faltas %></td>
      </tr>
      <% }) %>
    </tbody>
  </table>

  <div class="mt-6">
    <a
      href="/fault/add"
      class="bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300"
    >
      Registrar Nueva Falta
    </a>
  </div>

  <%- include('includes/_footer') %>
</div>
