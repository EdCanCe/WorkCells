<%- include('includes/_header') %>

<div class="flex">
  <aside class="w-64"><%- include('includes/_navbar') %></aside>

  <main class="flex-1 p-8 bg-gray-50 min-h-screen">
    <h2 class="text-3xl font-semibold mb-6 text-gray-800">
      Escribe los datos sobre tu Ausencia
    </h2>

    <% if (info != '') { %>
    <div class="bg-blue-100 text-blue-800 p-4 rounded mb-6 shadow-md">
      <%= info %>
    </div>
    <% } %>

    <form
      action="/absence/add"
      method="POST"
      enctype="multipart/form-data"
      class="bg-white p-8 rounded-lg shadow-md max-w-2xl"
    >
      <input type="hidden" name="_csrf" value="<%= csrfToken %>" />

      <div class="mb-6">
        <label class="block text-lg font-medium text-gray-700 mb-2"
          >Fecha de inicio de la ausencia:</label
        >
        <input
          class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
          type="date"
          name="startDate"
          required
        />
      </div>

      <div class="mb-6">
        <label class="block text-lg font-medium text-gray-700 mb-2"
          >Fecha de finalización de la ausencia:</label
        >
        <input
          class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
          type="date"
          name="endDate"
          required
        />
      </div>

      <div class="mb-6">
        <label class="block text-lg font-medium text-gray-700 mb-2"
          >Motivo de la ausencia:</label
        >
        <textarea
          class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
          name="reason"
          required
          placeholder="Me enfermé y tuve que acudir al médico"
        ></textarea>
      </div>

      <div class="mb-6">
        <label class="block text-lg font-medium text-gray-700 mb-2"
          >Evidencia (opcional):</label
        >
        <input
          type="file"
          name="evidence"
          class="w-full border border-gray-300 rounded-lg p-3"
        />
      </div>

      <div class="flex justify-end">
        <button
          type="submit"
          class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 shadow-md"
        >
          Enviar
        </button>
      </div>
    </form>
  </main>
</div>

<%- include('includes/_footer') %>
